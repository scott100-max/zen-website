<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ASMR | Salus Mind</title>
  <meta name="description" content="Immersive ASMR audio sessions designed to calm your mind, sharpen your focus, or carry you into sleep. Layered soundscapes from Salus Mind.">
  <link rel="canonical" href="https://salus-mind.com/asmr">
  <meta property="og:title" content="ASMR | Salus Mind">
  <meta property="og:description" content="Immersive ASMR audio sessions designed to calm your mind, sharpen your focus, or carry you into sleep.">
  <meta property="og:url" content="https://salus-mind.com/asmr">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://salus-mind.com/images/meditation-woman-outdoor.jpg">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300&family=Outfit:wght@200;300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css?v=1770564391">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="js/supabase-config.js"></script>
  <script src="js/auth.js?v=1770564391"></script>
  <style>
  :root {
    --deep: #0a0a12;
    --ink: #0d0d1a;
    --glow-primary: #7c6cf0;
    --glow-secondary: #4ecdc4;
    --glow-warm: #f7a072;
    --text-bright: #f0eefc;
    --text-muted: rgba(240, 238, 252, 0.55);
    --text-dim: rgba(240, 238, 252, 0.4);
    --text-mid: rgba(240, 238, 252, 0.6);
    --card-bg: rgba(255, 255, 255, 0.03);
    --card-border: rgba(255, 255, 255, 0.06);
    --card-hover: rgba(255, 255, 255, 0.06);
    --accent: #818cf8;
    --accent-dim: rgba(129,140,248,0.6);
    --accent-bright: #a5b4fc;
    --accent-teal: #4ecdc4;
    --accent-warm: #f7a072;
    --accent-rose: #f472b6;
    --accent-sky: #38bdf8;
    --accent-amber: #fbbf24;
    --accent-emerald: #34d399;
    --accent-indigo: #818cf8;
  }

  body { background: #0a0a12; }

  /* ═══════════════════════════════════
     HERO
  ═══════════════════════════════════ */
  .hero{position:relative;min-height:92vh;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;overflow:hidden;padding:80px 24px 60px}

  /* Concentric rings */
  .hero__rings{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:800px;height:800px;pointer-events:none}
  .hero__ring{position:absolute;border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%)}
  .hero__ring:nth-child(1){width:280px;height:280px;border:2px solid rgba(129,140,248,0.14);animation:ringPulse 6s ease-in-out infinite,ringSpin 45s linear infinite}
  .hero__ring:nth-child(2){width:420px;height:420px;border:1.5px solid rgba(129,140,248,0.10);animation:ringPulse 6s 1.5s ease-in-out infinite,ringSpin 60s linear infinite reverse}
  .hero__ring:nth-child(3){width:560px;height:560px;border:1px solid rgba(129,140,248,0.07);animation:ringPulse 6s 3s ease-in-out infinite,ringSpin 80s linear infinite}
  .hero__ring:nth-child(4){width:700px;height:700px;border:1px solid rgba(129,140,248,0.04);animation:ringPulse 6s 4.5s ease-in-out infinite,ringSpin 100s linear infinite reverse}
  @keyframes ringPulse{0%,100%{opacity:1;transform:translate(-50%,-50%) scale(1)}50%{opacity:.4;transform:translate(-50%,-50%) scale(1.05)}}
  @keyframes ringSpin{from{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(360deg)}}

  /* Ambient glow */
  .hero::before{content:'';position:absolute;top:35%;left:50%;transform:translate(-50%,-50%);width:600px;height:600px;border-radius:50%;background:radial-gradient(circle,rgba(129,140,248,0.08) 0%,rgba(129,140,248,0.03) 35%,transparent 65%);pointer-events:none;animation:glowBreathe 8s ease-in-out infinite}
  @keyframes glowBreathe{0%,100%{opacity:.7;transform:translate(-50%,-50%) scale(1)}50%{opacity:1;transform:translate(-50%,-50%) scale(1.25)}}

  /* Floating motes */
  .hero__motes{position:absolute;inset:0;pointer-events:none;overflow:hidden}
  .hero__mote{position:absolute;border-radius:50%;background:rgba(129,140,248,0.45);box-shadow:0 0 8px rgba(129,140,248,0.3);animation:moteFloat linear infinite}
  .hero__mote:nth-child(1){left:18%;top:75%;width:4px;height:4px;animation-duration:14s;animation-delay:0s;opacity:.6}
  .hero__mote:nth-child(2){left:72%;top:80%;width:5px;height:5px;animation-duration:18s;animation-delay:2s;opacity:.5}
  .hero__mote:nth-child(3){left:35%;top:85%;width:3px;height:3px;animation-duration:16s;animation-delay:4s;opacity:.7}
  .hero__mote:nth-child(4){left:58%;top:70%;width:4px;height:4px;animation-duration:20s;animation-delay:1s;opacity:.4}
  .hero__mote:nth-child(5){left:82%;top:90%;width:3px;height:3px;animation-duration:15s;animation-delay:6s;opacity:.55}
  .hero__mote:nth-child(6){left:12%;top:65%;width:5px;height:5px;animation-duration:22s;animation-delay:3s;opacity:.35}
  .hero__mote:nth-child(7){left:45%;top:88%;width:4px;height:4px;animation-duration:17s;animation-delay:5s;opacity:.5}
  .hero__mote:nth-child(8){left:90%;top:72%;width:3px;height:3px;animation-duration:19s;animation-delay:7s;opacity:.45}
  @keyframes moteFloat{0%{transform:translateY(0) translateX(0);opacity:0}8%{opacity:1}50%{transform:translateY(-42vh) translateX(20px)}92%{opacity:1}100%{transform:translateY(-85vh) translateX(40px);opacity:0}}

  /* Content */
  .hero__content{position:relative;z-index:3;max-width:680px}
  .hero__label{display:inline-flex;align-items:center;gap:12px;font-weight:300;font-size:.68rem;letter-spacing:.3em;text-transform:uppercase;color:var(--accent-dim);margin-bottom:20px}
  .hero__label::before,.hero__label::after{content:'';width:28px;height:1px;background:linear-gradient(90deg,transparent,rgba(129,140,248,0.35),transparent)}
  .hero__title{font-family:'Cormorant Garamond',serif;font-weight:300;font-size:clamp(2.8rem,6vw,4.2rem);line-height:1.1;margin-bottom:18px;color:#fff}
  .hero__title span{background:linear-gradient(135deg,#fff 0%,rgba(129,140,248,0.85) 60%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
  .hero__desc{font-weight:200;font-size:.92rem;color:var(--text-muted);max-width:540px;margin:0 auto 12px;line-height:1.7}
  .hero__breathe{font-weight:300;font-size:.68rem;letter-spacing:.3em;text-transform:uppercase;color:rgba(129,140,248,0.4);margin-bottom:24px;animation:breatheText 6s ease-in-out infinite}
  @keyframes breatheText{0%,100%{opacity:.35;letter-spacing:.3em}50%{opacity:.8;letter-spacing:.5em;color:rgba(129,140,248,0.6)}}

  /* CTAs */
  .hero__ctas{display:flex;justify-content:center;gap:14px;margin-bottom:28px}
  .hero__cta-primary{display:inline-flex;align-items:center;gap:8px;font-family:'Outfit',sans-serif;font-weight:400;font-size:.82rem;letter-spacing:.04em;padding:13px 30px;border-radius:40px;color:var(--deep);background:linear-gradient(135deg,var(--accent),var(--accent-bright));border:none;cursor:pointer;text-decoration:none;transition:all .4s cubic-bezier(.22,1,.36,1);box-shadow:0 4px 20px rgba(129,140,248,0.25)}
  .hero__cta-primary:hover{transform:translateY(-2px);box-shadow:0 8px 32px rgba(129,140,248,0.35)}
  .hero__cta-primary svg{width:12px;height:12px;fill:var(--deep)}
  .hero__cta-secondary{display:inline-flex;align-items:center;font-family:'Outfit',sans-serif;font-weight:300;font-size:.82rem;letter-spacing:.04em;padding:13px 30px;border-radius:40px;color:var(--text-mid);background:rgba(255,255,255,0.04);border:1px solid rgba(255,255,255,0.1);cursor:pointer;text-decoration:none;transition:all .4s cubic-bezier(.22,1,.36,1)}
  .hero__cta-secondary:hover{background:rgba(255,255,255,0.08);border-color:rgba(255,255,255,0.2);transform:translateY(-2px)}

  /* Stats */
  .hero__stats{display:flex;justify-content:center;gap:8px;flex-wrap:wrap;font-weight:200;font-size:.78rem;color:var(--text-muted);margin-bottom:10px}
  .hero__stats strong{font-weight:400;color:var(--accent-dim)}
  .hero__stats span{color:rgba(255,255,255,0.2)}
  .hero__tagline{font-family:'Cormorant Garamond',serif;font-weight:300;font-style:italic;font-size:.88rem;color:rgba(255,255,255,0.25)}

  /* Staggered fade-ins */
  @keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
  .hero__label{animation:fadeUp .8s ease-out both}
  .hero__title{animation:fadeUp .8s .15s ease-out both}
  .hero__desc{animation:fadeUp .8s .3s ease-out both}
  .hero__breathe{animation:fadeUp .8s .45s ease-out both,breatheText 6s 1.5s ease-in-out infinite}
  .hero__ctas{animation:fadeUp .8s .6s ease-out both}
  .hero__stats{animation:fadeUp .8s .75s ease-out both}
  .hero__tagline{animation:fadeUp .8s .9s ease-out both}

  /* ═══════════════ NAVIGATION ═══════════════ */
  .nav-wrap{position:fixed;top:0;left:0;right:0;z-index:1000;transition:background .4s ease,box-shadow .4s ease;background:rgba(6,8,16,0.5);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px)}
  .nav-wrap.scrolled{background:rgba(6,8,16,0.92);backdrop-filter:blur(28px);-webkit-backdrop-filter:blur(28px);box-shadow:0 1px 0 rgba(255,255,255,0.06),0 12px 40px rgba(0,0,0,0.3)}
  .nav-inner{max-width:1100px;margin:0 auto;padding:0 24px}
  .nav-row-1{display:flex;align-items:center;justify-content:space-between;height:60px}
  .nav-brand{font-family:'Cormorant Garamond',serif;font-weight:400;font-size:1.5rem;letter-spacing:.12em;text-decoration:none;color:#f0eefc;transition:opacity .3s ease;flex-shrink:0}
  .nav-brand:hover{opacity:.8}
  .nav-primary{display:flex;align-items:center;gap:4px;list-style:none}
  .nav-primary a{font-weight:300;font-size:.82rem;letter-spacing:.02em;color:rgba(240,238,252,0.6);text-decoration:none;padding:6px 13px;border-radius:8px;transition:all .3s ease;position:relative;white-space:nowrap}
  .nav-primary a:hover{color:#f0eefc;background:rgba(255,255,255,0.04)}
  .nav-primary a.active{color:#f0eefc;background:rgba(255,255,255,0.06)}
  .nav-primary a.active::after{content:'';position:absolute;bottom:2px;left:50%;transform:translateX(-50%);width:16px;height:2px;border-radius:1px;background:#4ecdc4;opacity:.7}
  .nav-ctas{display:flex;align-items:center;gap:8px;flex-shrink:0}
  .nav-cta{font-family:'Outfit',sans-serif;font-weight:400;font-size:.78rem;letter-spacing:.04em;padding:7px 18px;border-radius:40px;cursor:pointer;text-decoration:none;transition:all .35s cubic-bezier(.22,1,.36,1);white-space:nowrap}
  .nav-cta--subscribe{color:#060810;background:#4ecdc4;border:1px solid #4ecdc4}
  .nav-cta--subscribe:hover{background:#5ed8d0;transform:translateY(-1px);box-shadow:0 4px 16px rgba(78,205,196,0.25)}
  .nav-cta--login{color:rgba(240,238,252,0.6);background:transparent;border:1px solid rgba(255,255,255,0.1)}
  .nav-cta--login:hover{color:#f0eefc;border-color:rgba(255,255,255,0.22);background:rgba(255,255,255,0.04)}
  .nav-row-2{display:flex;align-items:center;justify-content:center;gap:32px;height:34px;border-top:1px solid rgba(255,255,255,0.06);transition:height .4s ease,opacity .3s ease,border-top-color .3s ease;overflow:hidden}
  .nav-wrap.scrolled .nav-row-2{height:0;opacity:0;border-top-color:transparent}
  .nav-row-2 a{font-weight:300;font-size:.72rem;letter-spacing:.03em;color:rgba(240,238,252,0.4);text-decoration:none;transition:color .3s ease;white-space:nowrap}
  .nav-row-2 a:hover{color:rgba(240,238,252,0.6)}
  .nav-burger{display:none;flex-direction:column;justify-content:center;gap:5px;width:36px;height:36px;background:none;border:none;cursor:pointer;padding:6px;border-radius:8px;transition:background .3s ease}
  .nav-burger:hover{background:rgba(255,255,255,0.04)}
  .nav-burger span{display:block;width:100%;height:1.5px;background:rgba(240,238,252,0.6);border-radius:1px;transition:all .3s ease;transform-origin:center}
  .nav-burger.open span:nth-child(1){transform:translateY(6.5px) rotate(45deg)}
  .nav-burger.open span:nth-child(2){opacity:0}
  .nav-burger.open span:nth-child(3){transform:translateY(-6.5px) rotate(-45deg)}
  .nav-drawer{display:none;position:fixed;top:56px;left:0;right:0;bottom:0;background:rgba(6,8,16,0.95);backdrop-filter:blur(28px);-webkit-backdrop-filter:blur(28px);z-index:999;flex-direction:column;padding:32px 28px 40px;overflow-y:auto;opacity:0;transform:translateY(-8px);transition:opacity .3s ease,transform .3s ease}
  .nav-drawer.open{display:flex;opacity:1;transform:translateY(0)}
  .nav-drawer__section-label{font-weight:300;font-size:.62rem;letter-spacing:.25em;text-transform:uppercase;color:rgba(240,238,252,0.4);margin-bottom:14px;margin-top:24px}
  .nav-drawer__section-label:first-child{margin-top:0}
  .nav-drawer__link{display:flex;align-items:center;gap:12px;font-weight:300;font-size:1.05rem;color:rgba(240,238,252,0.6);text-decoration:none;padding:12px 0;border-bottom:1px solid rgba(255,255,255,0.04);transition:color .3s ease}
  .nav-drawer__link:hover{color:#f0eefc}
  .nav-drawer__link-dot{width:5px;height:5px;border-radius:50%;background:#4ecdc4;opacity:.5}
  .nav-drawer__ctas{display:flex;gap:10px;margin-top:32px}
  .nav-drawer__ctas .nav-cta{flex:1;text-align:center;padding:12px 20px;font-size:.88rem}
  @media(max-width:860px){.nav-primary,.nav-row-2,.nav-ctas{display:none}.nav-burger{display:flex}.nav-row-1{height:56px}}

  /* ═══════════════════════════════════════════
     SOUND LIBRARY SECTION
  ═══════════════════════════════════════════ */
  .asmr-library {
    padding: 80px 24px 100px;
    background: linear-gradient(180deg, var(--deep) 0%, #0f0f20 100%);
  }

  .section-header {
    text-align: center;
    margin-bottom: 48px;
  }
  .section-header__label {
    font-family: 'Outfit', sans-serif;
    font-weight: 300;
    font-size: 0.72rem;
    letter-spacing: 0.28em;
    text-transform: uppercase;
    color: var(--accent-teal);
    margin-bottom: 12px;
  }
  .section-header__title {
    font-family: 'Cormorant Garamond', serif;
    font-weight: 300;
    font-size: clamp(1.8rem, 4vw, 2.6rem);
    color: var(--text-bright);
    margin-bottom: 10px;
  }
  .section-header__sub {
    font-weight: 200;
    font-size: 0.9rem;
    color: var(--text-dim);
  }

  /* Category Filters */
  .filters {
    display: flex;
    justify-content: center;
    gap: 8px;
    margin-bottom: 36px;
    flex-wrap: wrap;
  }
  .filter-btn {
    font-family: 'Outfit', sans-serif;
    font-weight: 300;
    font-size: 0.75rem;
    letter-spacing: 0.08em;
    color: var(--text-dim);
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.08);
    padding: 7px 18px;
    border-radius: 40px;
    cursor: pointer;
    transition: all 0.3s ease;
  }
  .filter-btn:hover,
  .filter-btn.active {
    color: var(--text-bright);
    border-color: rgba(124, 108, 240, 0.4);
    background: rgba(124, 108, 240, 0.08);
  }

  /* Sound Grid */
  .sound-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 12px;
    max-width: 1000px;
    margin: 0 auto;
  }

  /* Sound Card */
  .sound-card {
    position: relative;
    display: flex;
    flex-direction: column;
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    border-radius: 14px;
    padding: 14px 16px 12px;
    transition: all 0.35s cubic-bezier(0.22, 1, 0.36, 1);
    overflow: hidden;
    user-select: none;
    opacity: 0;
    transform: translateY(16px);
    animation: cardIn 0.5s ease-out forwards;
  }
  .sound-card__top {
    display: flex;
    align-items: center;
    gap: 14px;
    cursor: pointer;
  }
  .sound-card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 14px;
    opacity: 0;
    transition: opacity 0.35s ease;
    pointer-events: none;
  }
  .sound-card:hover {
    background: var(--card-hover);
    border-color: rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  }
  .sound-card:hover::before { opacity: 1; }
  .sound-card.playing {
    border-color: color-mix(in srgb, var(--card-accent, var(--accent)) 40%, transparent);
    background: color-mix(in srgb, var(--card-accent, var(--accent)) 6%, transparent);
  }

  @keyframes cardIn {
    to { opacity: 1; transform: translateY(0); }
  }

  /* Icon */
  .sound-card__icon {
    position: relative;
    width: 42px;
    height: 42px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    flex-shrink: 0;
    transition: transform 0.3s ease;
  }
  .sound-card:hover .sound-card__icon { transform: scale(1.08); }

  /* Waveform bars */
  .sound-card__wave {
    position: absolute;
    bottom: 3px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 2px;
    opacity: 0;
    transition: opacity 0.3s ease;
  }
  .sound-card.playing .sound-card__wave { opacity: 1; }
  .sound-card__wave span {
    width: 2px;
    height: 6px;
    border-radius: 1px;
    background: var(--card-accent, var(--accent));
    animation: waveBar 0.8s ease-in-out infinite alternate;
  }
  .sound-card__wave span:nth-child(1) { animation-delay: 0s; height: 4px; }
  .sound-card__wave span:nth-child(2) { animation-delay: 0.15s; height: 7px; }
  .sound-card__wave span:nth-child(3) { animation-delay: 0.3s; height: 5px; }
  .sound-card__wave span:nth-child(4) { animation-delay: 0.1s; height: 8px; }
  .sound-card__wave span:nth-child(5) { animation-delay: 0.25s; height: 4px; }
  @keyframes waveBar {
    0% { transform: scaleY(0.4); }
    100% { transform: scaleY(1.4); }
  }

  /* Text */
  .sound-card__info { flex: 1; min-width: 0; }
  .sound-card__name {
    font-weight: 400;
    font-size: 0.88rem;
    color: var(--text-bright);
    line-height: 1.3;
    margin-bottom: 2px;
  }
  .sound-card__meta { display: flex; align-items: center; gap: 6px; }
  .sound-card__tag {
    font-weight: 300;
    font-size: 0.65rem;
    letter-spacing: 0.06em;
    color: var(--text-dim);
    text-transform: uppercase;
  }
  .sound-card__duration {
    font-weight: 300;
    font-size: 0.65rem;
    color: var(--text-dim);
  }
  .sound-card__dot {
    width: 2px;
    height: 2px;
    border-radius: 50%;
    background: var(--text-dim);
  }

  /* Play/pause toggle */
  .sound-card__toggle {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    border: 1px solid rgba(255, 255, 255, 0.1);
    background: rgba(255, 255, 255, 0.03);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: all 0.3s ease;
  }
  .sound-card:hover .sound-card__toggle {
    border-color: rgba(255, 255, 255, 0.2);
    background: rgba(255, 255, 255, 0.06);
  }
  .sound-card.playing .sound-card__toggle {
    border-color: rgba(124, 108, 240, 0.4);
    background: rgba(124, 108, 240, 0.12);
  }
  .sound-card__toggle svg {
    width: 12px;
    height: 12px;
    fill: var(--text-mid);
    transition: fill 0.3s ease;
  }
  .sound-card.playing .sound-card__toggle svg { fill: var(--accent); }
  .sound-card__toggle .icon-pause { display: none; }
  .sound-card.playing .sound-card__toggle .icon-play { display: none; }
  .sound-card.playing .sound-card__toggle .icon-pause { display: block; }

  /* Volume slider row */
  .sound-card__slider-row {
    display: flex; align-items: center; gap: 8px;
    margin-top: 0; padding-top: 0;
    border-top: 1px solid rgba(255,255,255,0.04);
    max-height: 0; overflow: hidden; opacity: 0;
    transition: max-height 0.4s cubic-bezier(0.22,1,0.36,1), opacity 0.3s ease, margin-top 0.4s ease, padding-top 0.4s ease;
  }
  .sound-card.playing .sound-card__slider-row,
  .sound-card:hover .sound-card__slider-row {
    max-height: 50px; opacity: 1; margin-top: 10px; padding-top: 10px; overflow: visible;
  }
  .sound-card__vol-icon { flex-shrink: 0; display: flex; align-items: center; }
  .sound-card__vol-icon svg { width: 13px; height: 13px; fill: rgba(240,238,252,0.4); transition: fill 0.3s ease; }
  .sound-card.playing .sound-card__vol-icon svg { fill: var(--card-accent, var(--accent)); }
  .sound-card__slider {
    flex: 1; -webkit-appearance: none; appearance: none; height: 3px;
    border-radius: 2px; background: rgba(255,255,255,0.08); outline: none; cursor: pointer;
    padding: 10px 0; touch-action: none;
  }
  .sound-card__slider::-webkit-slider-thumb {
    -webkit-appearance: none; appearance: none; width: 22px; height: 22px; border-radius: 50%;
    background: var(--card-accent, var(--accent)); border: 2px solid #0a0a12;
    cursor: pointer; transition: transform 0.2s ease;
  }
  .sound-card__slider::-webkit-slider-thumb:hover { transform: scale(1.2); }
  .sound-card__slider::-moz-range-thumb {
    width: 22px; height: 22px; border-radius: 50%;
    background: var(--card-accent, var(--accent)); border: 2px solid #0a0a12; cursor: pointer;
  }
  .sound-card__slider::-moz-range-track { height: 3px; border-radius: 2px; background: rgba(255,255,255,0.08); }
  .sound-card__vol-value {
    font-weight: 300; font-size: 0.62rem; color: rgba(240,238,252,0.4);
    width: 26px; text-align: right; flex-shrink: 0; font-variant-numeric: tabular-nums;
  }

  /* Per-card accent colours */
  .sound-card[data-sound="rain"]       { --card-accent: var(--accent-sky); }
  .sound-card[data-sound="ocean"]      { --card-accent: var(--accent-teal); }
  .sound-card[data-sound="forest"]     { --card-accent: var(--accent-emerald); }
  .sound-card[data-sound="thunder"]    { --card-accent: var(--accent-indigo); }
  .sound-card[data-sound="birds"]      { --card-accent: var(--accent-amber); }
  .sound-card[data-sound="fire"]       { --card-accent: var(--accent-warm); }
  .sound-card[data-sound="stream"]     { --card-accent: var(--accent-teal); }
  .sound-card[data-sound="cafe"]       { --card-accent: var(--accent-warm); }
  .sound-card[data-sound="garden"]     { --card-accent: var(--accent-emerald); }
  .sound-card[data-sound="library"]    { --card-accent: var(--accent-indigo); }
  .sound-card[data-sound="keyboard"]   { --card-accent: var(--accent-rose); }
  .sound-card[data-sound="court"]      { --card-accent: var(--accent-amber); }
  .sound-card[data-sound="night"]      { --card-accent: var(--accent); }
  .sound-card[data-sound="waterfall"]  { --card-accent: var(--accent-sky); }
  .sound-card[data-sound="wind"]       { --card-accent: var(--accent-sky); }
  .sound-card[data-sound="train"]      { --card-accent: var(--accent-warm); }
  .sound-card[data-sound="waves"]      { --card-accent: var(--accent-teal); }
  .sound-card[data-sound="chimes"]     { --card-accent: var(--accent-amber); }
  .sound-card[data-sound="fountain"]   { --card-accent: var(--accent-teal); }
  .sound-card[data-sound="snowfall"]   { --card-accent: var(--text-mid); }
  .sound-card[data-sound="harbor"]     { --card-accent: var(--accent-indigo); }
  .sound-card[data-sound="cabin"]      { --card-accent: var(--accent-warm); }
  .sound-card[data-sound="bowls"]      { --card-accent: var(--accent-amber); }
  .sound-card[data-sound="leaves"]     { --card-accent: var(--accent-emerald); }
  .sound-card[data-sound="fan"]        { --card-accent: var(--text-mid); }
  .sound-card[data-sound="rain-tent"]  { --card-accent: var(--accent-sky); }
  .sound-card[data-sound="river"]      { --card-accent: var(--accent-teal); }
  .sound-card[data-sound="cave"]       { --card-accent: var(--accent-indigo); }
  .sound-card[data-sound="meadow"]     { --card-accent: var(--accent-emerald); }

  /* Coming soon badge */
  .sound-card.coming-soon { opacity: 0.5; pointer-events: none; position: relative; }
  .sound-card.coming-soon .sound-card__slider-row { display: none; }
  .sound-card__badge { position: absolute; top: 8px; right: 8px; font-size: 0.6rem; font-weight: 600; letter-spacing: 0.05em; text-transform: uppercase; color: var(--text-muted); background: rgba(240,238,252,0.06); border: 1px solid rgba(240,238,252,0.08); border-radius: 4px; padding: 2px 6px; }

  .sound-card[data-sound="rain"]::before       { background: radial-gradient(ellipse at 20% 50%, rgba(56,189,248,0.06), transparent 70%); }
  .sound-card[data-sound="ocean"]::before      { background: radial-gradient(ellipse at 20% 50%, rgba(78,205,196,0.06), transparent 70%); }
  .sound-card[data-sound="forest"]::before     { background: radial-gradient(ellipse at 20% 50%, rgba(52,211,153,0.06), transparent 70%); }
  .sound-card[data-sound="thunder"]::before    { background: radial-gradient(ellipse at 20% 50%, rgba(129,140,248,0.06), transparent 70%); }
  .sound-card[data-sound="fire"]::before       { background: radial-gradient(ellipse at 20% 50%, rgba(247,160,114,0.06), transparent 70%); }
  .sound-card[data-sound="night"]::before      { background: radial-gradient(ellipse at 20% 50%, rgba(124,108,240,0.06), transparent 70%); }

  /* Icon BG tints */
  .sound-card[data-sound="rain"] .sound-card__icon       { background: rgba(56,189,248,0.1); }
  .sound-card[data-sound="ocean"] .sound-card__icon      { background: rgba(78,205,196,0.1); }
  .sound-card[data-sound="forest"] .sound-card__icon     { background: rgba(52,211,153,0.1); }
  .sound-card[data-sound="thunder"] .sound-card__icon    { background: rgba(129,140,248,0.1); }
  .sound-card[data-sound="birds"] .sound-card__icon      { background: rgba(251,191,36,0.1); }
  .sound-card[data-sound="fire"] .sound-card__icon       { background: rgba(247,160,114,0.1); }
  .sound-card[data-sound="stream"] .sound-card__icon     { background: rgba(78,205,196,0.1); }
  .sound-card[data-sound="cafe"] .sound-card__icon       { background: rgba(247,160,114,0.08); }
  .sound-card[data-sound="garden"] .sound-card__icon     { background: rgba(52,211,153,0.08); }
  .sound-card[data-sound="library"] .sound-card__icon    { background: rgba(129,140,248,0.08); }
  .sound-card[data-sound="keyboard"] .sound-card__icon   { background: rgba(244,114,182,0.08); }
  .sound-card[data-sound="night"] .sound-card__icon      { background: rgba(124,108,240,0.1); }
  .sound-card[data-sound="waterfall"] .sound-card__icon  { background: rgba(56,189,248,0.08); }

  @media (max-width: 600px) {
    .sound-grid { grid-template-columns: 1fr 1fr; gap: 8px; }
    .sound-card { padding: 12px; gap: 10px; }
    .sound-card__icon { width: 36px; height: 36px; font-size: 1rem; }
    .sound-card__toggle { width: 28px; height: 28px; }
    .sound-card__toggle svg { width: 10px; height: 10px; }
    .sound-card__name { font-size: 0.8rem; }
  }
  @media (max-width: 380px) {
    .sound-grid { grid-template-columns: 1fr; }
  }
  </style>
</head>
<body>
<!-- ═══════════════ NAVIGATION ═══════════════ -->
<nav class="nav-wrap" id="navWrap">
  <div class="nav-inner">
    <div class="nav-row-1">
      <a href="index.html" class="nav-brand">SALUS</a>
      <ul class="nav-primary">
        <li><a href="index.html">Home</a></li>
        <li><a href="mindfulness.html">Mindfulness</a></li>
        <li><a href="cbt.html">CBT Exercises</a></li>
        <li><a href="asmr.html" class="active">ASMR</a></li>
        <li><a href="sleep-stories.html">Sleep Stories</a></li>
        <li><a href="education.html">Learn</a></li>
        <li><a href="about.html">About</a></li>
      </ul>
      <div class="nav-ctas">
        <a href="apps.html" class="nav-cta nav-cta--subscribe">Subscribe</a>
        <a href="login.html" class="nav-cta nav-cta--login">Log In</a>
      </div>
      <button class="nav-burger" id="burgerBtn" aria-label="Menu">
        <span></span><span></span><span></span>
      </button>
    </div>
    <div class="nav-row-2">
      <a href="tools.html">Tools</a>
      <a href="reading.html">Reading</a>
      <a href="applied-psychology.html">Applied Psychology</a>
      <a href="newsletter.html">Newsletter</a>
      <a href="contact.html">Contact</a>
      <a href="lend-your-voice.html">Lend Your Voice</a>
    </div>
  </div>
</nav>
<div class="nav-drawer" id="navDrawer">
  <div class="nav-drawer__section-label">Main</div>
  <a href="index.html" class="nav-drawer__link"><span class="nav-drawer__link-dot"></span>Home</a>
  <a href="mindfulness.html" class="nav-drawer__link"><span class="nav-drawer__link-dot"></span>Mindfulness</a>
  <a href="cbt.html" class="nav-drawer__link"><span class="nav-drawer__link-dot"></span>CBT Exercises</a>
  <a href="asmr.html" class="nav-drawer__link"><span class="nav-drawer__link-dot"></span>ASMR</a>
  <a href="sleep-stories.html" class="nav-drawer__link"><span class="nav-drawer__link-dot"></span>Sleep Stories</a>
  <a href="education.html" class="nav-drawer__link"><span class="nav-drawer__link-dot"></span>Learn</a>
  <a href="about.html" class="nav-drawer__link"><span class="nav-drawer__link-dot"></span>About</a>

  <div class="nav-drawer__section-label">More</div>
  <a href="tools.html" class="nav-drawer__link"><span class="nav-drawer__link-dot" style="background:rgba(240,238,252,0.4)"></span>Tools</a>
  <a href="reading.html" class="nav-drawer__link"><span class="nav-drawer__link-dot" style="background:rgba(240,238,252,0.4)"></span>Reading</a>
  <a href="applied-psychology.html" class="nav-drawer__link"><span class="nav-drawer__link-dot" style="background:rgba(240,238,252,0.4)"></span>Applied Psychology</a>
  <a href="newsletter.html" class="nav-drawer__link"><span class="nav-drawer__link-dot" style="background:rgba(240,238,252,0.4)"></span>Newsletter</a>
  <a href="contact.html" class="nav-drawer__link"><span class="nav-drawer__link-dot" style="background:rgba(240,238,252,0.4)"></span>Contact</a>
  <a href="lend-your-voice.html" class="nav-drawer__link"><span class="nav-drawer__link-dot" style="background:rgba(240,238,252,0.4)"></span>Lend Your Voice</a>

  <div class="nav-drawer__ctas">
    <a href="apps.html" class="nav-cta nav-cta--subscribe">Subscribe</a>
    <a href="login.html" class="nav-cta nav-cta--login">Log In</a>
  </div>
</div>


<section class="hero">
  <div class="hero__rings">
    <div class="hero__ring"></div>
    <div class="hero__ring"></div>
    <div class="hero__ring"></div>
    <div class="hero__ring"></div>
  </div>
  <div class="hero__motes">
    <div class="hero__mote"></div>
    <div class="hero__mote"></div>
    <div class="hero__mote"></div>
    <div class="hero__mote"></div>
    <div class="hero__mote"></div>
    <div class="hero__mote"></div>
    <div class="hero__mote"></div>
    <div class="hero__mote"></div>
  </div>
  <div class="hero__content">
    <div class="hero__label"><span></span>Immersive Audio<span></span></div>
    <h1 class="hero__title"><span>ASMR</span></h1>
    <p class="hero__desc">Feel the tingles. Layered soundscapes that wrap around you — designed to calm your mind, sharpen your focus, or carry you into sleep.</p>
    <div class="hero__breathe">Listen Close</div>
    <div class="hero__ctas">
      <a href="#mixer" class="hero__cta-primary">
        <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
        Start Listening
      </a>
      <a href="#sounds" class="hero__cta-secondary">Explore Sounds</a>
    </div>
    <div class="hero__stats">
      <strong>29</strong>&thinsp;ambient sounds <span>·</span>
      Layerable mixer <span>·</span>
      Infinite combinations
    </div>
    <div class="hero__tagline">Salūs — Latin: health, safety, well-being</div>
  </div>
</section>

<!-- Sound Library -->
<section id="explore" class="asmr-library">
  <div class="section-header">
    <p class="section-header__label">Sound Library</p>
    <h2 class="section-header__title">Immersive Soundscapes</h2>
    <p class="section-header__sub">29 hand-picked environments. Mix, layer, lose yourself.</p>
  </div>

  <div class="filters">
    <button class="filter-btn active" data-filter="all">All</button>
    <button class="filter-btn" data-filter="nature">Nature</button>
    <button class="filter-btn" data-filter="weather">Weather</button>
    <button class="filter-btn" data-filter="spaces">Spaces</button>
    <button class="filter-btn" data-filter="ambient">Ambient</button>
  </div>

  <div class="sound-grid" id="soundGrid"></div>
</section>

<section class="cta-banner">
  <div class="container">
    <h2>Unlock the full library</h2>
    <p>Every soundscape, ASMR session, and ambient track — included with Salus Premium.</p>
    <a href="apps.html" class="btn">Subscribe</a>
  </div>
</section>

<!-- Footer -->
<footer class="hb-footer">
  <div class="hb-footer__inner">
    <div class="hb-footer__brand">
      <span class="hb-footer__logo">Salus</span>
      <p class="hb-footer__tagline">A quieter kind of self-care. Guided practices, sleep stories, ASMR, and mindfulness tools &mdash; built by a family.</p>
    </div>
    <div>
      <h4 class="hb-footer__col-title">Practice</h4>
      <ul class="hb-footer__links">
        <li><a href="mindfulness.html">Mindfulness</a></li>
        <li><a href="cbt.html">CBT Exercises</a></li>
        <li><a href="asmr.html">ASMR &amp; Sounds</a></li>
        <li><a href="sleep-stories.html">Sleep Stories</a></li>
        <li><a href="tools.html">Tools</a></li>
      </ul>
    </div>
    <div>
      <h4 class="hb-footer__col-title">Discover</h4>
      <ul class="hb-footer__links">
        <li><a href="education.html">Learn</a></li>
        <li><a href="reading.html">Reading</a></li>
        <li><a href="applied-psychology.html">Applied Psychology</a></li>
        <li><a href="newsletter.html">Newsletter</a></li>
      </ul>
    </div>
    <div>
      <h4 class="hb-footer__col-title">Salus</h4>
      <ul class="hb-footer__links">
        <li><a href="about.html">About Us</a></li>
        <li><a href="apps.html">Go Premium</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>
  </div>
  <p class="footer-disclaimer">Salus does not provide medical advice. Content is for general wellbeing and is not a substitute for professional medical advice, diagnosis, or treatment. Always consult a qualified health provider with any health concerns.</p>
  <div class="hb-footer__bottom">
    <span class="hb-footer__copy">&copy; 2026 Salus Mind. All rights reserved.</span>
    <a href="#" class="hb-footer__back-top" onclick="window.scrollTo({top:0,behavior:'smooth'});return false;">
      Back to top
      <svg viewBox="0 0 24 24"><polyline points="18 15 12 9 6 15"/></svg>
    </a>
  </div>
</footer>

<script>
  // ═══════════════════════════════════════════
  // PARTICLE SYSTEM
  // ═══════════════════════════════════════════
  (function() {
    const container = document.getElementById('particles');
    if (!container) return;
    const colours = ['#7c6cf0', '#4ecdc4', '#f7a072', '#a78bfa', '#34d399'];
    const count = 35;

    for (let i = 0; i < count; i++) {
      const p = document.createElement('div');
      p.classList.add('particle');
      p.style.left = Math.random() * 100 + '%';
      p.style.top = (40 + Math.random() * 55) + '%';
      p.style.background = colours[Math.floor(Math.random() * colours.length)];
      p.style.width = p.style.height = (2 + Math.random() * 3) + 'px';
      p.style.animationDuration = (4 + Math.random() * 6) + 's';
      p.style.animationDelay = (Math.random() * 8) + 's';
      container.appendChild(p);
    }
  })();

  // ═══════════════════════════════════════════
  // WAVE VISUALISER (canvas)
  // ═══════════════════════════════════════════
  (function() {
    const canvas = document.getElementById('waveCanvas');
    if (!canvas) return;
    const ctx = canvas.getContext('2d');
    let w, h, time = 0;

    function resize() {
      const dpr = window.devicePixelRatio || 1;
      const rect = canvas.getBoundingClientRect();
      w = canvas.width = rect.width * dpr;
      h = canvas.height = rect.height * dpr;
      ctx.scale(dpr, dpr);
    }

    window.addEventListener('resize', resize);
    resize();

    const waves = [
      { amp: 18, freq: 0.008, speed: 0.015, colour: 'rgba(124, 108, 240, 0.25)', phase: 0 },
      { amp: 14, freq: 0.012, speed: 0.02,  colour: 'rgba(78, 205, 196, 0.18)',  phase: 2 },
      { amp: 10, freq: 0.006, speed: 0.01,  colour: 'rgba(247, 160, 114, 0.12)', phase: 4 },
      { amp: 22, freq: 0.01,  speed: 0.018, colour: 'rgba(167, 139, 250, 0.15)', phase: 1 },
      { amp: 8,  freq: 0.015, speed: 0.025, colour: 'rgba(52, 211, 153, 0.10)',  phase: 3 },
    ];

    function drawWave(wave) {
      const rw = w / (window.devicePixelRatio || 1);
      const rh = h / (window.devicePixelRatio || 1);
      const baseY = rh * 0.5;

      ctx.beginPath();
      ctx.moveTo(0, rh);

      for (let x = 0; x <= rw; x += 2) {
        const y = baseY +
          Math.sin(x * wave.freq + time * wave.speed + wave.phase) * wave.amp +
          Math.sin(x * wave.freq * 0.5 + time * wave.speed * 1.3 + wave.phase * 0.7) * (wave.amp * 0.5);
        ctx.lineTo(x, y);
      }

      ctx.lineTo(rw, rh);
      ctx.closePath();
      ctx.fillStyle = wave.colour;
      ctx.fill();
    }

    function animate() {
      const rw = w / (window.devicePixelRatio || 1);
      const rh = h / (window.devicePixelRatio || 1);
      ctx.clearRect(0, 0, rw, rh);

      waves.forEach(drawWave);
      time++;
      requestAnimationFrame(animate);
    }

    animate();
  })();


  // ═══════════════════════════════════════════
  // SOUND CARD BUILDER
  // ═══════════════════════════════════════════
  (function() {
    const soundDefs = [
      { id: 'rain',       name: 'Rain',        icon: '\u{1F327}', category: 'weather', src: 'https://media.salus-mind.com/content/audio-free/asmr-rain.mp3' },
      { id: 'ocean',      name: 'Ocean',       icon: '\u{1F30A}', category: 'nature',  src: 'https://media.salus-mind.com/content/audio-free/asmr-ocean.mp3' },
      { id: 'forest',     name: 'Forest',      icon: '\u{1F332}', category: 'nature',  src: 'https://media.salus-mind.com/content/audio-free/asmr-forest.mp3' },
      { id: 'thunder',    name: 'Thunder',     icon: '\u26A1',    category: 'weather', src: 'https://media.salus-mind.com/content/audio-free/asmr-thunder.mp3' },
      { id: 'birds',      name: 'Birds',       icon: '\u{1F426}', category: 'nature',  src: 'https://media.salus-mind.com/content/audio-free/asmr-birds.mp3' },
      { id: 'fire',       name: 'Fire',        icon: '\u{1F525}', category: 'ambient', src: 'https://media.salus-mind.com/content/audio-free/asmr-fire.mp3' },
      { id: 'stream',     name: 'Stream',      icon: '\u{1F4A7}', category: 'nature',  src: 'https://media.salus-mind.com/content/audio-free/asmr-stream.mp3' },
      { id: 'cafe',       name: 'Caf\u00e9',   icon: '\u2615',    category: 'spaces',  src: 'https://media.salus-mind.com/content/audio-free/asmr-cafe.mp3' },
      { id: 'garden',     name: 'Garden',      icon: '\u{1F33F}', category: 'nature',  src: 'https://media.salus-mind.com/content/audio-free/asmr-garden.mp3' },
      { id: 'library',    name: 'Library',     icon: '\u{1F4DA}', category: 'spaces',  src: 'https://media.salus-mind.com/content/audio-free/asmr-library.mp3' },
      { id: 'night',      name: 'Night',       icon: '\u{1F319}', category: 'ambient', src: 'https://media.salus-mind.com/content/audio-free/asmr-night.mp3' },
      { id: 'waterfall',  name: 'Waterfall',   icon: '\u{1F4A6}', category: 'nature',  src: 'https://media.salus-mind.com/content/audio-free/asmr-waterfall.mp3' },
      { id: 'keyboard',   name: 'Keyboard',    icon: '\u2328',    category: 'spaces',  src: 'https://media.salus-mind.com/content/audio-free/asmr-keyboard.mp3' },
      { id: 'court',      name: 'Courtroom',   icon: '\u2696',    category: 'spaces',  src: 'https://media.salus-mind.com/content/audio-free/asmr-court.mp3' },
      { id: 'wind',       name: 'Wind',        icon: '\u{1F4A8}', category: 'weather', src: 'https://media.salus-mind.com/content/audio-free/asmr-wind.mp3' },
      { id: 'train',      name: 'Train',       icon: '\u{1F682}', category: 'spaces',  src: 'https://media.salus-mind.com/content/audio-free/asmr-train.mp3' },
      { id: 'waves',      name: 'Waves',       icon: '\u{1F3D6}', category: 'nature',  src: 'https://media.salus-mind.com/content/audio-free/asmr-waves.mp3' },
      { id: 'chimes',     name: 'Wind Chimes', icon: '\u{1F390}', category: 'ambient', src: 'https://media.salus-mind.com/content/audio-free/asmr-chimes.mp3' },
      { id: 'fountain',   name: 'Fountain',    icon: '\u26F2',    category: 'nature',  src: 'https://media.salus-mind.com/content/audio-free/asmr-fountain.mp3' },
      { id: 'snowfall',   name: 'Snowfall',    icon: '\u2744',    category: 'weather', src: 'https://media.salus-mind.com/content/audio-free/asmr-snowfall.mp3' },
      { id: 'harbor',     name: 'Harbour',     icon: '\u2693',    category: 'nature',  src: 'https://media.salus-mind.com/content/audio-free/asmr-harbor.mp3' },
      { id: 'cabin',      name: 'Cabin',       icon: '\u{1F3E0}', category: 'spaces',  src: 'https://media.salus-mind.com/content/audio-free/asmr-cabin.mp3' },
      { id: 'bowls',      name: 'Singing Bowls', icon: '\u{1F514}', category: 'ambient', src: 'https://media.salus-mind.com/content/audio-free/asmr-bowls.mp3' },
      { id: 'leaves',     name: 'Rustling Leaves', icon: '\u{1F342}', category: 'nature', src: 'https://media.salus-mind.com/content/audio-free/asmr-leaves.mp3' },
      { id: 'fan',        name: 'Fan',         icon: '\u{1F300}', category: 'ambient', src: 'https://media.salus-mind.com/content/audio-free/asmr-fan.mp3' },
      { id: 'rain-tent',  name: 'Rain on Tent', icon: '\u26FA',   category: 'weather', src: 'https://media.salus-mind.com/content/audio-free/asmr-rain-tent.mp3' },
      { id: 'river',      name: 'River',       icon: '\u{1F6F6}', category: 'nature',  src: 'https://media.salus-mind.com/content/audio-free/asmr-river.mp3' },
      { id: 'cave',       name: 'Cave',        icon: '\u{1F573}', category: 'nature',  src: 'https://media.salus-mind.com/content/audio-free/asmr-cave.mp3' },
      { id: 'meadow',     name: 'Meadow',      icon: '\u{1F33B}', category: 'nature',  src: 'https://media.salus-mind.com/content/audio-free/asmr-meadow.mp3' },
    ];

    const audioElements = {};
    const grid = document.getElementById('soundGrid');

    // Media Session API — shows lock-screen controls on mobile
    function updateMediaSession() {
      if (!('mediaSession' in navigator)) return;
      const playing = Object.keys(audioElements).filter(id => {
        const card = document.querySelector(`.sound-card[data-sound="${id}"]`);
        return card && card.classList.contains('playing');
      });
      if (playing.length === 0) return;
      const names = playing.map(id => {
        const def = soundDefs.find(d => d.id === id);
        return def ? def.name : id;
      }).join(', ');
      navigator.mediaSession.metadata = new MediaMetadata({
        title: names,
        artist: 'Salus Mind',
        album: 'ASMR Sounds'
      });
      navigator.mediaSession.setActionHandler('pause', () => {
        playing.forEach(id => {
          audioElements[id].pause();
          const card = document.querySelector(`.sound-card[data-sound="${id}"]`);
          if (card) card.classList.remove('playing');
        });
        updateMediaSession();
      });
      navigator.mediaSession.setActionHandler('play', () => {
        playing.forEach(id => {
          audioElements[id].play();
          const card = document.querySelector(`.sound-card[data-sound="${id}"]`);
          if (card) card.classList.add('playing');
        });
      });
    }

    soundDefs.forEach((s, i) => {
      const card = document.createElement('div');
      card.className = 'sound-card' + (s.comingSoon ? ' coming-soon' : '');
      card.dataset.sound = s.id;
      card.dataset.category = s.category;
      card.style.animationDelay = (i * 0.05) + 's';

      card.innerHTML = `
        ${s.comingSoon ? '<span class="sound-card__badge">Coming soon</span>' : ''}
        <div class="sound-card__top">
          <div class="sound-card__icon">
            ${s.icon}
            <div class="sound-card__wave">
              <span></span><span></span><span></span><span></span><span></span>
            </div>
          </div>
          <div class="sound-card__info">
            <div class="sound-card__name">${s.name}</div>
            <div class="sound-card__meta">
              <span class="sound-card__tag">${s.category}</span>
              ${!s.comingSoon ? '' : ''}
            </div>
          </div>
          <div class="sound-card__toggle">
            <svg class="icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
            <svg class="icon-pause" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
          </div>
        </div>
        <div class="sound-card__slider-row">
          <div class="sound-card__vol-icon"><svg viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg></div>
          <input type="range" class="sound-card__slider" min="0" max="100" value="70">
          <span class="sound-card__vol-value">70%</span>
        </div>
      `;

      // Plain HTML5 Audio — allows background playback on mobile (no AudioContext)
      function createSource(src) {
        const audio = new Audio(src);
        audio.preload = 'auto';
        audio.loop = true;
        return { audio };
      }

      // Seamless crossfade loop — two Audio elements per sound
      const topRow = card.querySelector('.sound-card__top');
      topRow.addEventListener('click', () => {
        const isPlaying = card.classList.toggle('playing');
        if (!audioElements[s.id]) {
          const a = createSource(s.src);
          const b = createSource(s.src);
          const vol = card.querySelector('.sound-card__slider').value / 100;
          a.audio.volume = vol;
          b.audio.volume = 0;
          let active = a, standby = b, fading = false;
          const XFADE = 5; // crossfade seconds before end
          function checkCrossfade() {
            if (!fading && active.audio.duration && active.audio.currentTime > active.audio.duration - XFADE) {
              fading = true;
              standby.audio.currentTime = 0;
              standby.audio.volume = 0;
              standby.audio.play();
              const steps = 50;
              const interval = (XFADE * 1000) / steps;
              const targetVol = parseFloat(card.querySelector('.sound-card__slider').value) / 100;
              let step = 0;
              const fade = setInterval(() => {
                step++;
                const t = step / steps;
                active.audio.volume = targetVol * (1 - t);
                standby.audio.volume = targetVol * t;
                if (step >= steps) {
                  clearInterval(fade);
                  active.audio.pause();
                  active.audio.currentTime = 0;
                  const tmp = active;
                  active = standby;
                  standby = tmp;
                  fading = false;
                  audioElements[s.id].active = active;
                  audioElements[s.id].standby = standby;
                  active.audio.volume = parseFloat(card.querySelector('.sound-card__slider').value) / 100;
                }
              }, interval);
            }
          }
          const timer = setInterval(checkCrossfade, 500);
          audioElements[s.id] = { active: a, standby: b, timer: timer,
            play() { this.active.audio.play(); },
            pause() { this.active.audio.pause(); this.standby.audio.pause(); },
            setVolume(v) { this.active.audio.volume = v; }
          };
        }
        if (isPlaying) {
          audioElements[s.id].play();
        } else {
          audioElements[s.id].pause();
        }
        updateMediaSession();
      });

      // Volume slider — iOS-safe manual touch tracking
      const slider = card.querySelector('.sound-card__slider');
      const valLabel = card.querySelector('.sound-card__vol-value');
      function updateVol(val) {
        val = Math.max(0, Math.min(100, Math.round(val)));
        slider.value = val;
        valLabel.textContent = val + '%';
        if (audioElements[s.id]) audioElements[s.id].setVolume(val / 100);
      }
      slider.addEventListener('input', (e) => updateVol(e.target.value));
      slider.addEventListener('change', (e) => updateVol(e.target.value));
      slider.addEventListener('click', (e) => e.stopPropagation());
      slider.addEventListener('mousedown', (e) => e.stopPropagation());
      // iOS: native range touch is unreliable — compute value from touch position
      function touchToVal(touch) {
        const rect = slider.getBoundingClientRect();
        return ((touch.clientX - rect.left) / rect.width) * 100;
      }
      slider.addEventListener('touchstart', (e) => {
        e.stopPropagation(); e.preventDefault();
        updateVol(touchToVal(e.touches[0]));
      }, {passive: false});
      slider.addEventListener('touchmove', (e) => {
        e.stopPropagation(); e.preventDefault();
        updateVol(touchToVal(e.touches[0]));
      }, {passive: false});
      slider.addEventListener('touchend', (e) => {
        e.stopPropagation(); e.preventDefault();
      });

      grid.appendChild(card);
    });

    // Filter buttons
    document.querySelectorAll('.filter-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const filter = btn.dataset.filter;

        document.querySelectorAll('.sound-card').forEach((card, i) => {
          const show = filter === 'all' || card.dataset.category === filter;
          card.style.display = show ? 'flex' : 'none';
          if (show) {
            card.style.animation = 'none';
            card.offsetHeight;
            card.style.animation = `cardIn 0.4s ${i * 0.03}s ease-out forwards`;
            card.style.opacity = '0';
          }
        });
      });
    });
  })();

  // Navigation
  const navWrap=document.getElementById("navWrap");
  window.addEventListener("scroll",()=>{navWrap.classList.toggle("scrolled",window.scrollY>30)},{passive:true});
  const burger=document.getElementById("burgerBtn");
  const drawer=document.getElementById("navDrawer");
  burger.addEventListener("click",()=>{burger.classList.toggle("open");drawer.classList.toggle("open");document.body.style.overflow=drawer.classList.contains("open")?"hidden":""});
  drawer.querySelectorAll(".nav-drawer__link").forEach(l=>{l.addEventListener("click",()=>{burger.classList.remove("open");drawer.classList.remove("open");document.body.style.overflow=""})});

</script>

<script src="js/main.js?v=1770564391"></script>
<script src="js/tracker.js"></script>
</body>
</html>
